

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>video_preprocessing module &mdash; Rodent Attention Quantifier 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="rodent module" href="rodent.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Rodent Attention Quantifier
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">RodentAttentionQuantifier</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="GUI.html">GUI module</a></li>
<li class="toctree-l2"><a class="reference internal" href="attention_quantifier.html">attention_quantifier module</a></li>
<li class="toctree-l2"><a class="reference internal" href="crop_and_confine.html">crop_and_confine module</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_handler.html">file_handler module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ma_dlc_controller.html">ma_dlc_controller module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_angle_on_video.html">plot_angle_on_video module</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_angle.html">process_angle module</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_tracklets.html">read_tracklets module</a></li>
<li class="toctree-l2"><a class="reference internal" href="rodent.html">rodent module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">video_preprocessing module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rodent Attention Quantifier</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">RodentAttentionQuantifier</a> &raquo;</li>
        
      <li>video_preprocessing module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/video_preprocessing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-video_preprocessing">
<span id="video-preprocessing-module"></span><h1>video_preprocessing module<a class="headerlink" href="#module-video_preprocessing" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="video_preprocessing.ball_pushed">
<code class="sig-prename descclassname">video_preprocessing.</code><code class="sig-name descname">ball_pushed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">untouched_ball_y</span></em>, <em class="sig-param"><span class="n">threshold</span></em>, <em class="sig-param"><span class="n">y</span></em><span class="sig-paren">)</span><a class="headerlink" href="#video_preprocessing.ball_pushed" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if the ball has been pushed according to the set threshold value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>untouched_ball_y</strong> – The read y value of a non pushed ball</p></li>
<li><p><strong>threshold</strong> – The y threashold</p></li>
<li><p><strong>y</strong> – y coordinate for the current ball</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns True if the ball has been pushed</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="video_preprocessing.crop_frame">
<code class="sig-prename descclassname">video_preprocessing.</code><code class="sig-name descname">crop_frame</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">crop_ratio</span></em><span class="sig-paren">)</span><a class="headerlink" href="#video_preprocessing.crop_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Crops the given frame according to the crop ratio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame</strong> – A frame</p></li>
<li><p><strong>crop_ratio</strong> – Crop ratio</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the cropped frame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="video_preprocessing.filter_frame">
<code class="sig-prename descclassname">video_preprocessing.</code><code class="sig-name descname">filter_frame</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em><span class="sig-paren">)</span><a class="headerlink" href="#video_preprocessing.filter_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters a frame with the following filters:
- Gray scale
- Normalization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame</strong> – A frame</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The filtered frame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="video_preprocessing.find_ball_with_light">
<code class="sig-prename descclassname">video_preprocessing.</code><code class="sig-name descname">find_ball_with_light</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">greenLower</span></em>, <em class="sig-param"><span class="n">greenUpper</span></em><span class="sig-paren">)</span><a class="headerlink" href="#video_preprocessing.find_ball_with_light" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the location of the ball with green light</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame</strong> – A frame</p></li>
<li><p><strong>greenLower</strong> – Lower green HSV values</p></li>
<li><p><strong>greenUpper</strong> – Upper green HSV values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns (x,y), radius of the ball (defaults to (0,0), 0)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="video_preprocessing.get_frame_count">
<code class="sig-prename descclassname">video_preprocessing.</code><code class="sig-name descname">get_frame_count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">video_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#video_preprocessing.get_frame_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the frame count in order to use the tqdm progressbar.
This value can not be directly read due to the .h264 video files that are used does not contain ths information in
the metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>video_path</strong> – The video path</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The number of frames</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="video_preprocessing.video_preprocess">
<code class="sig-prename descclassname">video_preprocessing.</code><code class="sig-name descname">video_preprocess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">video_input_path</span></em>, <em class="sig-param"><span class="n">crop_ratio</span></em>, <em class="sig-param"><span class="n">gui_handler</span></em>, <em class="sig-param"><span class="n">options</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#video_preprocessing.video_preprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the video file and applies the pre-processing according to the options selected in the GUI</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video_input_path</strong> – The video path</p></li>
<li><p><strong>crop_ratio</strong> – Crop ratio from the crop_and_confine() method</p></li>
<li><p><strong>gui_handler</strong> – Reference to the GUI object for printing to the gui console</p></li>
<li><p><strong>options</strong> – Options from the GUI</p></li>
<li><p><strong>threshold</strong> – Threshold (px) for determining that the ball is pushed (default = 2)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ball_locations - The [x,y] coordinates of the center of the ball pr frame</p></li>
<li><p>video_output_path - Path to the preprocessed video</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="rodent.html" class="btn btn-neutral float-left" title="rodent module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Michael S. Larsen

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>